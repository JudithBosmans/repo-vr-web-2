import{_ as N}from"./CAyBuTyD.js";import{_ as E}from"./DbJZj37Q.js";import{_ as $}from"./BTBSIk0t.js";import{C as h,k as w,m as I,q as V,x as B,o as e,c as s,a,b as n,w as m,U as P,n as _,t as d,F as q,l as z,d as A,h as g}from"./BMKAczWz.js";import{R as D}from"./C55hNX0Q.js";const F={class:"container animate-fade animate-once animate-delay-[500ms] mt-10 mb-20"},S={class:"masonry-image relative"},j={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-200 rounded-md"},M={key:0},O={key:1,class:"text-red-500"},R={class:"masonry-item-text p-4"},T={class:"text-xl font-semibold mb-2"},U={key:0,class:"text-gray-600 line-clamp-3"},G={key:0,class:"text-xs mt-2"},Z={__name:"PromotedContent",async setup(H){let r,u;const f=h([]),{data:p}=([r,u]=w(()=>I("folders",()=>V("/").sort({promoted:1}).find())),r=await r,u(),r);B(()=>{p.value&&(f.value=p.value.filter(o=>o.folder))});const v=f,l=h({});function x(o){l.value[o]=!1}function k(o){l.value[o]="error"}return(o,J)=>{const b=N,y=E,C=$;return e(),s("div",null,[a("div",F,[n(g(D),{items:g(v),"ssr-columns":1,gap:16,class:"mt-5"},{default:m(({item:t,index:c})=>[a("div",{style:P({height:`${t}px`}),class:"masonry-item"},[a("div",S,[l.value[c]!==!1?(e(),s("div",j,[l.value[c]!=="error"?(e(),s("p",M,"Loading image...")):(e(),s("p",O,"Error loading image"))])):_("",!0),n(b,{src:t.thumbnail,alt:"Post thumbnail",class:"rounded-md mb-4",loading:"lazy",onLoad:i=>x(c),onError:i=>k(c)},null,8,["src","onLoad","onError"])]),n(y,{to:t._path,class:"block"},{default:m(()=>[a("div",R,[a("h2",T,d(t.title),1),t.description?(e(),s("p",U,d(t.description),1)):_("",!0),n(C,null,{default:m(()=>[t.tags?(e(),s("ul",G,[(e(!0),s(q,null,z(t.tags,(i,L)=>(e(),s("li",{key:L,class:"inline mr-2"},[n(y,{to:`/tags/${i}`},{default:m(()=>[A(d(i),1)]),_:2},1032,["to"])]))),128))])):_("",!0)]),_:2},1024)])]),_:2},1032,["to"])],4)]),_:1},8,["items"])])])}}};export{Z as default};
