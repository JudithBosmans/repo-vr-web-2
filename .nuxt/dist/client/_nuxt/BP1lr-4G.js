import{_ as $}from"./CAyBuTyD.js";import{_ as N}from"./DbJZj37Q.js";import{C as v,ax as E,k as w,m as V,q as A,x as B,o as s,c as a,b as i,w as m,a as u,U as F,n as d,T as I,d as h,t as _,F as P,l as q,h as z}from"./BMKAczWz.js";import{R as D}from"./C55hNX0Q.js";const R={key:0,class:"mt-5"},S={class:"masonry-image relative"},T={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-200"},j={class:"masonry-item-text p-4"},M={key:0,class:"text-gray-600 line-clamp-3"},U={key:1,class:"text-xs mt-2"},W={__name:"FolderContent",async setup(G){let o,f;const r=v([]),n=v([]),x=E().path.replace(/\/$/,""),{data:p}=([o,f]=w(()=>V("folders",()=>A(x).sort({promoted:1}).find())),o=await o,f(),o);B(()=>{p.value&&(r.value=p.value.filter(e=>e.folder&&e.folder==="page"&&e.folder!=="folder"),n.value=Array(r.value.length).fill(!1))});const k=e=>{n.value[e]=!0},b=e=>{console.error(`Error loading image at index ${e}`)};return(e,g)=>{const C=$,y=N;return r.value.folder!=="page"?(s(),a("div",R,[i(z(D),{items:r.value,"ssr-columns":1,gap:16},{default:m(({item:t,index:l})=>[u("div",{style:F({height:`${t}px`}),class:"masonry-item"},[u("div",S,[n.value[l]?d("",!0):(s(),a("div",T,g[0]||(g[0]=[u("p",null,"Loading image...",-1)]))),i(C,{src:t.thumbnail,alt:"Post thumbnail",class:I(["rounded-md mb-4",{hidden:!n.value[l]}]),onLoad:c=>k(l),onError:c=>b(l)},null,8,["src","onLoad","onError","class"])]),u("div",j,[i(y,{to:t._path,class:"text-xl font-semibold mb-2"},{default:m(()=>[h(_(t.title),1)]),_:2},1032,["to"]),t.description?(s(),a("p",M,_(t.description),1)):d("",!0),t.tags?(s(),a("ul",U,[(s(!0),a(P,null,q(t.tags,(c,L)=>(s(),a("li",{key:L,class:"inline mr-2"},[i(y,{to:`/tags/${c}`},{default:m(()=>[h(_(c),1)]),_:2},1032,["to"])]))),128))])):d("",!0)])],4)]),_:1},8,["items"])])):d("",!0)}}};export{W as default};
