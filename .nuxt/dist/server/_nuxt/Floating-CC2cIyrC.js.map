{"version":3,"file":"Floating-CC2cIyrC.js","sources":["../../../../pages/Floating.vue"],"sourcesContent":["<script setup>\nimport { onMounted, ref, watch, markRaw } from \"vue\";\nimport * as THREE from \"three\";\nimport { GLTFLoader } from \"three/addons/loaders/GLTFLoader.js\";\n\nconst props = defineProps({\n  colorMode: String,\n  modelPath: {\n    type: String,\n    required: true,\n  },\n});\n\nlet scene, camera, renderer;\nconst currentModel = ref(null);\n\nconst loadModel = (path) => {\n  const loader = new GLTFLoader();\n  loader.load(\n    path,\n    (gltf) => {\n      if (currentModel.value) {\n        scene.remove(currentModel.value);\n      }\n      currentModel.value = markRaw(gltf.scene);\n      currentModel.value.position.set(0, 0, 0);\n      currentModel.value.scale.set(1, 1, 1);\n      scene.add(currentModel.value);\n    },\n    undefined,\n    (error) => console.error(\"Error loading model:\", error)\n  );\n};\n\nonMounted(() => {\n  scene = new THREE.Scene();\n  camera = new THREE.PerspectiveCamera(\n    75,\n    window.innerWidth / window.innerHeight,\n    0.1,\n    1000\n  );\n  camera.position.z = 5;\n  renderer = new THREE.WebGLRenderer({ alpha: true });\n  renderer.setSize(window.innerWidth, window.innerHeight);\n  document.getElementById(\"moss-container\").appendChild(renderer.domElement);\n\n  const ambientLight = new THREE.AmbientLight(0xffffff, 1);\n  scene.add(ambientLight);\n\n  const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n  directionalLight.position.set(10, 10, 10);\n  scene.add(directionalLight);\n\n  loadModel(props.modelPath);\n\n  const animate = () => {\n    requestAnimationFrame(animate);\n    if (currentModel.value) {\n      currentModel.value.position.y = Math.sin(Date.now() * 0.001) * 0.2;\n    }\n    renderer.render(scene, camera);\n  };\n  animate();\n});\n\nwatch(\n  () => props.modelPath,\n  (newPath) => {\n    loadModel(newPath);\n  }\n);\n</script>\n\n<template>\n  <div class=\"h-[125vh] w-[100%]\">\n    <div id=\"moss-container\"></div>\n  </div>\n</template>\n\n<style></style>\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAKA,UAAM,QAAQ;AAQd,QAAI;AACE,UAAA,eAAe,IAAI,IAAI;AAEvB,UAAA,YAAY,CAAC,SAAS;AACpB,YAAA,SAAS,IAAI;AACZ,aAAA;AAAA,QACL;AAAA,QACA,CAAC,SAAS;AACR,cAAI,aAAa,OAAO;AAChB,kBAAA,OAAO,aAAa,KAAK;AAAA,UACjC;AACa,uBAAA,QAAQ,QAAQ,KAAK,KAAK;AACvC,uBAAa,MAAM,SAAS,IAAI,GAAG,GAAG,CAAC;AACvC,uBAAa,MAAM,MAAM,IAAI,GAAG,GAAG,CAAC;AAC9B,gBAAA,IAAI,aAAa,KAAK;AAAA,QAC9B;AAAA,QACA;AAAA,QACA,CAAC,UAAU,QAAQ,MAAM,wBAAwB,KAAK;AAAA,MAAA;AAAA,IACxD;AAmCF;AAAA,MACE,MAAM,MAAM;AAAA,MACZ,CAAC,YAAY;AACX,kBAAU,OAAO;AAAA,MACnB;AAAA,IAAA;;;;;;;;;;;;"}