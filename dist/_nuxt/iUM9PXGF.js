import{e as N,k as w,r as L,u as q,K as B,b9 as E,ba as T,R as U,bb as I,p as P,at as _,bc as F,bd as H,h as m,be as j,bf as k,bg as V,bh as D,bi as z,x as M,b4 as W,bj as $}from"./C501vlBE.js";const G=(...t)=>t.find(u=>u!==void 0);function K(t){const u=t.componentName||"NuxtLink";function h(e){return typeof e=="string"&&e.startsWith("#")}function p(e,a){if(!e||t.trailingSlash!=="append"&&t.trailingSlash!=="remove")return e;if(typeof e=="string")return O(e,t.trailingSlash);const y="path"in e&&e.path!==void 0?e.path:a(e).path;return{...e,name:void 0,path:O(y,t.trailingSlash)}}function S(e){const a=w(),y=M(),i=m(()=>!!e.target&&e.target!=="_self"),f=m(()=>{const c=e.to||e.href||"";return typeof c=="string"&&j(c,{acceptRelative:!0})}),x=_("RouterLink"),g=x&&typeof x!="string"?x.useLink:void 0,d=m(()=>{if(e.external)return!0;const c=e.to||e.href||"";return typeof c=="object"?!1:c===""||f.value}),r=m(()=>{const c=e.to||e.href||"";return d.value?c:p(c,a.resolve)}),s=d.value||g==null?void 0:g({...e,to:r}),b=m(()=>{var c;if(!r.value||f.value||h(r.value))return r.value;if(d.value){const R=typeof r.value=="object"&&"path"in r.value?k(r.value):r.value,C=typeof R=="object"?a.resolve(R).href:R;return p(C,a.resolve)}return typeof r.value=="object"?((c=a.resolve(r.value))==null?void 0:c.href)??null:p(V(y.app.baseURL,r.value),a.resolve)});return{to:r,hasTarget:i,isAbsoluteUrl:f,isExternal:d,href:b,isActive:(s==null?void 0:s.isActive)??m(()=>r.value===a.currentRoute.value.path),isExactActive:(s==null?void 0:s.isExactActive)??m(()=>r.value===a.currentRoute.value.path),route:(s==null?void 0:s.route)??m(()=>a.resolve(r.value)),async navigate(){await D(b.value,{replace:e.replace,external:d.value||i.value})}}}return N({name:u,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:S,setup(e,{slots:a}){const y=w(),{to:i,href:f,navigate:x,isExternal:g,hasTarget:d,isAbsoluteUrl:r}=S(e),s=L(!1),b=L(null),c=n=>{var o;b.value=e.custom?(o=n==null?void 0:n.$el)==null?void 0:o.nextElementSibling:n==null?void 0:n.$el};function R(n){var o,l;return!s.value&&(typeof e.prefetchOn=="string"?e.prefetchOn===n:((o=e.prefetchOn)==null?void 0:o[n])??((l=t.prefetchOn)==null?void 0:l[n]))&&(e.prefetch??t.prefetch)!==!1&&e.noPrefetch!==!0&&e.target!=="_blank"&&!X()}async function C(n=q()){if(s.value)return;s.value=!0;const o=typeof i.value=="string"?i.value:g.value?k(i.value):y.resolve(i.value).fullPath,l=g.value?new URL(o,window.location.href).href:o;await Promise.all([n.hooks.callHook("link:prefetch",l).catch(()=>{}),!g.value&&!d.value&&z(i.value,y).catch(()=>{})])}if(R("visibility")){const n=q();let o,l=null;B(()=>{const v=Q();E(()=>{o=T(()=>{var A;(A=b==null?void 0:b.value)!=null&&A.tagName&&(l=v.observe(b.value,async()=>{l==null||l(),l=null,await C(n)}))})})}),U(()=>{o&&I(o),l==null||l(),l=null})}return()=>{var l;if(!g.value&&!d.value&&!h(i.value)){const v={ref:c,to:i.value,activeClass:e.activeClass||t.activeClass,exactActiveClass:e.exactActiveClass||t.exactActiveClass,replace:e.replace,ariaCurrentValue:e.ariaCurrentValue,custom:e.custom};return e.custom||(R("interaction")&&(v.onPointerenter=C.bind(null,void 0),v.onFocus=C.bind(null,void 0)),s.value&&(v.class=e.prefetchedClass||t.prefetchedClass),v.rel=e.rel||void 0),P(_("RouterLink"),v,a.default)}const n=e.target||null,o=G(e.noRel?"":e.rel,t.externalRelAttribute,r.value||d.value?"noopener noreferrer":"")||null;return e.custom?a.default?a.default({href:f.value,navigate:x,prefetch:C,get route(){if(!f.value)return;const v=new URL(f.value,window.location.href);return{path:v.pathname,fullPath:v.pathname,get query(){return F(v.search)},hash:v.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:f.value}},rel:o,target:n,isExternal:g.value||d.value,isActive:!1,isExactActive:!1}):null:P("a",{ref:b,href:f.value||null,rel:o,target:n},(l=a.default)==null?void 0:l.call(a))}}})}const Z=K(H);function O(t,u){const h=u==="append"?W:$;return j(t)&&!t.startsWith("http")?t:h(t,!0)}function Q(){const t=q();if(t._observer)return t._observer;let u=null;const h=new Map,p=(e,a)=>(u||(u=new IntersectionObserver(y=>{for(const i of y){const f=h.get(i.target);(i.isIntersecting||i.intersectionRatio>0)&&f&&f()}})),h.set(e,a),u.observe(e),()=>{h.delete(e),u==null||u.unobserve(e),h.size===0&&(u==null||u.disconnect(),u=null)});return t._observer={observe:p}}const J=/2g/;function X(){const t=navigator.connection;return!!(t&&(t.saveData||J.test(t.effectiveType)))}export{Z as _};
